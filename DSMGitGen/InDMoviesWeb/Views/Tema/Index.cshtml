@model IEnumerable<InDMoviesWeb.Models.TemaModel>
@using Microsoft.AspNet.Identity

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Temas</h2>

@if (Request.IsAuthenticated)
{

    <p id="Nuevo">
        @Html.ActionLink("Crear nuevo tema", "Create", null, new { @class = "btn btn-primary btn-md", @role = "button" , @style = "background-color:#E52A6F; border-color:#E52A6F"})


    </p>
}
else
{
    <p>
        Debes @Html.ActionLink("registrarte", "Register", "Account", routeValues: null, htmlAttributes: new { id = "registerLink" }) o @Html.ActionLink("iniciar sesión", "Login", "Account", routeValues: null, htmlAttributes: new { id = "loginLink" }) para crear un nuevo tema.
    </p>
}
<div class="container">
    <h2>Listado de temas</h2>


    <div class="list-group">

        @foreach (var item in Model)
        {






            <a class="list-group-item">


                <div class="row">
                    <div class="col-sm-4">
                        <strong>  @Html.DisplayFor(modelItem => item.Titulo)</strong>
                    </div>
                    <div class="col-sm-3">
                        <strong>Autor:</strong> @Html.DisplayFor(modelItem => item.Usuario)

                    </div>
                    <div class="col-sm-3">
                        <strong>Tema  @Html.DisplayFor(modelItem => item.Estado)  </strong>
                    </div>
                    <div class="col-sm-2">
                        @Html.DisplayFor(modelItem => item.Fecha)
                    </div>


                </div>


            </a>

            @Html.ActionLink("Ver Tema", "Details", new { id = item.Id }, new { @class = "btn btn-primary btn-md", @role = "button", @style = "display:block;margin:0 auto;background-color:#67AECA; border-color:#67AECA" })


            if (User.Identity.GetUserName() == item.Email || User.Identity.GetUserName() == "admin@admin.com")
            {

                @Html.ActionLink("Editar Tema", "Edit", new { id = item.Id }, new { @class = "btn btn-primary btn-md", @role = "button", @style = "display:block;margin:0 auto;background-color:#67AECA; border-color:#67AECA" })
                @Html.ActionLink("Eliminar Tema", "Delete", new { id = item.Id }, new { @class = "btn btn-primary btn-md", @role = "button", @style = "display:block;margin:0 auto;background-color:#67AECA; border-color:#67AECA" })


            }


            <br><br>
        }


